# 🔌 깜빡 (Blink AI)
> **"깜빡 잊고 켜둔 전기, AI가 알려준다!"**  
IoT 플러그 + AI 전력 예측 + 빅스비 음성 제어 기반의 스마트홈 에너지 관리 시스템

---

## 1. 빅스비란 무엇인가?
빅스비(Bixby)는 삼성전자가 개발한 **AI 음성 비서 플랫폼**으로, 한국어 인식 성능이 우수하고 Android 기반 기기와 높은 호환성을 보이는 것이 특징입니다.  
본 프로젝트에서는 빅스비 캡슐을 활용하여 IoT 플러그를 자연어 기반 음성 명령으로 제어할 수 있도록 구현하였습니다.

---

## 2. 빅스비를 적용한 이유
사용자 중심의 스마트홈 시스템을 구현하기 위해 사전 설문조사를 진행한 결과, 많은 사용자들이 **음성 명령 기반의 직관적인 제어**를 선호하는 것으로 나타났습니다.  
이에 따라 본 프로젝트는 한국어 인식 성능과 호환성이 뛰어난 빅스비를 채택하여, **자연어 기반의 음성 제어 환경**을 제공하였습니다.

---

## 3. 시스템 아키텍처
다음 그림은 MQTT 프로토콜 기반의 **깜빡 프로젝트 전체 아키텍처**를 나타낸 것입니다.  
- 클라이언트(App, Bixby) → 서버 → IoT 제어 → AI 학습 모델 → DB 저장  
- 각 모듈은 인증, 데이터 전송, 제어 및 응답 과정을 수행하며, 주기적 전력 사용 데이터를 AI 모델로 학습시켜 예측과 알림 기능을 제공합니다.

![System Architecture](https://blinkbixby.s3.ap-northeast-2.amazonaws.com/blinkarchitecture.png)

---

## 4. 빅스비 캡슐 구조
사용자의 발화 예: **“선풍기 켜줄래”**  
- 빅스비 캡슐은 발화를 **세 가지 핵심 요소**로 분해합니다:
  1. 제어 대상 기기명 (applianceName)  
  2. 동작 유형 (actionType)  
  3. 사용자 인증 정보 (userSession)  

이 값들은 `DeviceControl.model.bxb` 모델 파일에 매핑되고, 이후 `DeviceControl.js` 액션 코드에서 API 호출 및 제어 로직이 실행됩니다.  
처리 결과는 `DeviceControlResult`로 사용자에게 시각적/언어적 피드백을 제공합니다.

![Bixby Capsule Flow](https://blinkbixby.s3.ap-northeast-2.amazonaws.com/bixbystructure.png)

---

## 5. 발화 어휘 정규화 및 유사어 매핑
사용자는 같은 의미를 여러 방식으로 표현할 수 있습니다.  
예를 들어 **“에어컨 켜”**, **“냉방기 가동시켜”**, **“쿨러 온”**은 모두 같은 명령으로 인식되어야 합니다.  

이를 위해 빅스비 캡슐 내부에서는 `.vocab` 파일을 사용하여 **다양한 유사 표현을 정규화**하고, 일관된 슬롯 값으로 매핑합니다.

| 플러그 ID | 기기명 (유사 표현) |
|-----------|------------------|
| eb93422b93d4779663cltg | 핸드폰충전기, 휴대폰충전기, 스마트폰충전기 |
| ebf3b877b6c2a593eefygj | 에어컨, 냉방기, 쿨러 |
| eb8fd0a2d8c5f32c06eewp | 전자레인지, 렌지, 마이크로파오븐 |
| eb5607bd7dcddce97bsmno | 컴퓨터본체, 본체, PC, 데스크탑 |
| ebaa3d69095c0f9048iipj | 컴퓨터모니터, 모니터, 디스플레이, PC모니터 |

| 동작 유형 | 액션명 (유사 표현) |
|-----------|-------------------|
| on  | 켜, 가동시켜, 키자, 켜줄래, 온, 스타트 |
| off | 꺼, 멈춰, 꺼자, 꺼줄래, 오프, 스탑 |

---

4) 빅스비 캡슐 구조,  
5) 발화 정규화 처리 구조를 개괄적으로 설명하였습니다.  
